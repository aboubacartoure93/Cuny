!function(r,t,e,i){"use strict";function s(t,e,i){if(this.element=r(t),this._defaults=o,this._name=n,"string"==typeof e)e=e.replace(/\.\w*$/,"");else if("object"==typeof e)for(var s in e)e[s]=e[s].replace(/\.\w*$/,"");this.settings=r.extend({},o,i),this.path=e,this.init()}var n="vide",o={volume:1,playbackRate:1,muted:!0,loop:!0,autoplay:!0,position:"50% 50%",posterType:"detect"},a=/iPad|iPhone|iPod/i.test(i.userAgent),p=/Android/i.test(i.userAgent);r[n]={lookup:[]};var h=function(t){var e,i,s,o,r={};for(i=0,s=(e=t.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,",").split(",")).length;i<s;i++)e[i]=e[i].split(":"),(o=e[i][1])||(o=undefined),("string"==typeof o||o instanceof String)&&(o="true"===o||"false"!==o&&o),("string"==typeof o||o instanceof String)&&(o=isNaN(o)?o:+o),r[e[i][0]]=o;return r},d=function(t){for(var e,i=(t=""+t).split(/\s+/),s="50%",o="50%",r=0,n=i.length;r<n;r++)"left"===(e=i[r])?s="0%":"right"===e?s="100%":"top"===e?o="0%":"bottom"===e?o="100%":"center"===e?0===r?s="50%":o="50%":0===r?s=e:o=e;return{x:s,y:o}},c=function(t,e){var i=function(){e(this.src)};r("<img src='"+t+".gif'>").load(i),r("<img src='"+t+".jpg'>").load(i),r("<img src='"+t+".jpeg'>").load(i),r("<img src='"+t+".png'>").load(i)};s.prototype.init=function(){var t=this;this.wrapper=r("<div>");var e=d(this.settings.position);this.wrapper.css({position:"absolute","z-index":-1,top:0,left:0,bottom:0,right:0,overflow:"hidden","-webkit-background-size":"cover","-moz-background-size":"cover","-o-background-size":"cover","background-size":"cover","background-repeat":"no-repeat","background-position":e.x+" "+e.y});var i=this.path;if("object"==typeof this.path&&(this.path.poster?i=this.path.poster:this.path.mp4?i=this.path.mp4:this.path.webm?i=this.path.webm:this.path.ogv&&(i=this.path.webm)),"detect"===this.settings.posterType?c(i,r.proxy(this.setPoster,this)):this.setPoster(i+"."+this.settings.posterType),"static"===this.element.css("position")&&this.element.css("position","relative"),this.element.prepend(this.wrapper),!a&&!p){if("object"==typeof this.path){var s="";this.path.mp4&&(s+="<source src='"+this.path.mp4+".mp4' type='video/mp4'>"),this.path.webm&&(s+="<source src='"+this.path.webm+".webm' type='video/webm'>"),this.path.ogv&&(s+="<source src='"+this.path.ogv+".ogv' type='video/ogv'>"),this.video=r("<video>"+s+"</video>")}else this.video=r("<video><source src='"+this.path+".mp4' type='video/mp4'><source src='"+this.path+".webm' type='video/webm'><source src='"+this.path+".ogv' type='video/ogg'></video>");this.video.css("visibility","hidden"),this.video.prop({autoplay:this.settings.autoplay,loop:this.settings.loop,volume:this.settings.volume,muted:this.settings.muted,playbackRate:this.settings.playbackRate}),this.wrapper.append(this.video),this.video.css({margin:"auto",position:"absolute","z-index":-1,top:e.y,left:e.x,"-webkit-transform":"translate(-"+e.x+", -"+e.y+")","-ms-transform":"translate(-"+e.x+", -"+e.y+")",transform:"translate(-"+e.x+", -"+e.y+")"}),this.video.bind("loadedmetadata."+n,function(){t.video.css("visibility","visible"),t.resize()}),r(this.element).bind("resize."+n,function(){t.resize()})}},s.prototype.setPoster=function(t){this.wrapper.css("background-image","url("+t+")")},s.prototype.getVideoObject=function(){return this.video?this.video[0]:null},s.prototype.resize=function(){if(this.video){var t=this.video[0].videoHeight,e=this.video[0].videoWidth,i=this.wrapper.height(),s=this.wrapper.width();i/t<s/e?this.video.css({width:s+2,height:"auto"}):this.video.css({width:"auto",height:i+2})}},s.prototype.destroy=function(){this.element.unbind(n),this.video&&this.video.unbind(n),delete r[n].lookup[this.index],this.element.removeData(n),this.wrapper.remove()},r.fn[n]=function(t,e){var i;return this.each(function(){(i=r.data(this,n))&&i.destroy(),(i=new s(this,t,e)).index=r[n].lookup.push(i)-1,r.data(this,n,i)}),this},r(e).ready(function(){r(t).bind("resize."+n,function(){for(var t,e=r[n].lookup.length,i=0;i<e;i++)(t=r[n].lookup[i])&&t.resize()}),r(e).find("[data-"+n+"-bg]").each(function(t,e){var i=r(e),s=i.data(n+"-options"),o=i.data(n+"-bg");s=s?h(s):{},i[n](o,s)})})}(window.jQuery,window,document,navigator);